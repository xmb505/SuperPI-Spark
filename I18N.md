# SuperPI 国际化支持

本项目已添加国际化(i18n)支持，可以根据系统语言环境自动切换中英文界面。

## 语言支持

目前支持以下语言：
- 英语 (en_US, 默认)
- 简体中文 (zh_CN, zh_SG)
- 繁体中文 (zh_TW, zh_HK)

## 使用方法

程序会自动检测系统语言环境变量 `LANG` 来决定使用哪种语言显示。

### 手动指定语言

可以通过设置环境变量来强制使用特定语言：

```bash
# 使用英文
LANG=en_US.UTF-8 ./pi_css5 1000

# 使用简体中文
LANG=zh_CN.UTF-8 ./pi_css5 1000

# 使用繁体中文
LANG=zh_TW.UTF-8 ./pi_css5 1000
```

## 添加新语言

要添加新的语言支持，请按以下步骤操作：

1. 在 `po/` 目录下创建新的 `.po` 文件，如 `po/fr_FR.po`
2. 复制 `po/messages.pot` 的内容到新文件
3. 翻译所有 `msgid` 对应的 `msgstr`
4. 更新 `i18n.c` 中的翻译数组
5. 重新编译项目

## 文件结构

```
.
├── i18n.h          # 国际化头文件
├── i18n.c          # 国际化实现
├── po/             # 翻译文件目录
│   ├── messages.pot # 翻译模板
│   └── zh_CN.po    # 简体中文翻译
└── I18N.md         # 本文档
```

## 编译说明

国际化支持已集成到现有编译系统中：

```bash
# 使用make编译
make clean && make all

# 使用cmake编译
mkdir build && cd build && cmake .. && make
```

## 技术实现

- 使用简单的语言检测机制，基于 `LANG` 环境变量
- 采用数组方式存储翻译字符串，便于扩展
- 支持gettext格式的 `.po` 文件，为未来集成完整国际化框架做准备